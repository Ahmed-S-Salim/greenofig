import{j as e}from"./vendor-ui-jbjsCjSW.js";import{u as s,a,L as r}from"./vendor-react-C4Yvcgue.js";import{u as l,H as t,B as i,s as n,t as c}from"./index-CJcmXEeE.js";import{m as d,A as o,f as m,a as x,c as h,e as u,x as p,D as b,v as g,Z as j}from"./vendor-utils-jh41mPu7.js";import"./vendor-editor-D6Zd0gNL.js";const v=({logoUrl:v})=>{const{user:y,userProfile:f,refreshUserProfile:N}=l(),_=s(),[w,k]=a.useState(1),[C,L]=a.useState(!1),[A,G]=a.useState({age:f?.age||"",gender:f?.gender||"",height_cm:f?.height_cm||"",weight_kg:f?.weight_kg||"",activity_level:f?.activity_level||"",health_goals:f?.health_goals||[]}),S=[{id:"sedentary",label:"Sedentary",description:"Little or no exercise"},{id:"lightly_active",label:"Lightly Active",description:"Light exercise/sports 1-3 days/week"},{id:"moderately_active",label:"Moderately Active",description:"Moderate exercise/sports 3-5 days/week"},{id:"very_active",label:"Very Active",description:"Hard exercise/sports 6-7 days a week"},{id:"super_active",label:"Super Active",description:"Very hard exercise & physical job"}],F=[{id:"lose_weight",label:"Lose Weight",icon:p},{id:"build_muscle",label:"Build Muscle",icon:b},{id:"improve_endurance",label:"Improve Endurance",icon:g},{id:"eat_healthier",label:"Eat Healthier",icon:g},{id:"increase_energy",label:"Increase Energy",icon:j}],Y=e=>{const{name:s,value:a}=e.target;G(e=>({...e,[s]:a}))},M=()=>{_("/app",{replace:!0})};return e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx("title",{children:"Onboarding - GreenoFig"}),e.jsx("meta",{name:"description",content:"Personalize your GreenoFig experience."})]}),e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 bg-background text-foreground",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(r,{to:"/home",className:"inline-block mb-4",children:e.jsx(d.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:e.jsx("img",{src:v,alt:"GreenoFig Logo",className:"w-20 h-20"})})}),e.jsx("h1",{className:"text-4xl font-bold gradient-text",children:"Welcome to GreenoFig"}),e.jsx("p",{className:"text-text-secondary",children:"Let's personalize your experience."})]}),e.jsxs("div",{className:"glass-effect rounded-2xl p-8 shadow-2xl",children:[e.jsx("div",{className:"mb-6",children:w<=4&&e.jsx("div",{className:"w-full bg-muted rounded-full h-2.5",children:e.jsx(d.div,{className:"bg-primary h-2.5 rounded-full",initial:{width:"0%"},animate:{width:(w-1)/4*100+"%"}})})}),e.jsx(o,{mode:"wait",children:e.jsx(d.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:(()=>{switch(w){case 1:return e.jsxs(d.div,{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"About You"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Age"}),e.jsx("input",{type:"number",name:"age",value:A.age,onChange:Y,className:"w-full bg-background border border-border rounded-lg p-3",placeholder:"e.g., 28"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Gender"}),e.jsxs("select",{name:"gender",value:A.gender,onChange:Y,className:"w-full bg-background border border-border rounded-lg p-3",children:[e.jsx("option",{value:"",children:"Select gender"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"}),e.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]})]})]},"step1");case 2:return e.jsxs(d.div,{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Your Body Metrics"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Height (cm)"}),e.jsx("input",{type:"number",name:"height_cm",value:A.height_cm,onChange:Y,className:"w-full bg-background border border-border rounded-lg p-3",placeholder:"e.g., 175"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Weight (kg)"}),e.jsx("input",{type:"number",name:"weight_kg",value:A.weight_kg,onChange:Y,className:"w-full bg-background border border-border rounded-lg p-3",placeholder:"e.g., 70"})]})]})]},"step2");case 3:return e.jsxs(d.div,{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Your Lifestyle"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-text-secondary",children:"Activity Level"}),S.map(s=>e.jsxs("button",{onClick:()=>G(e=>({...e,activity_level:s.id})),className:"w-full text-left p-4 rounded-lg border-2 transition-all "+(A.activity_level===s.id?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:[e.jsx("p",{className:"font-semibold",children:s.label}),e.jsx("p",{className:"text-sm text-text-secondary",children:s.description})]},s.id))]})]},"step3");case 4:return e.jsxs(d.div,{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-bold",children:"Your Goals"}),e.jsx("p",{className:"text-text-secondary",children:"Select your primary health and fitness goals. You can select multiple."}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:F.map(s=>{const a=s.icon;return e.jsxs("button",{onClick:()=>{return e=s.id,void G(s=>{const a=s.health_goals.includes(e)?s.health_goals.filter(s=>s!==e):[...s.health_goals,e];return{...s,health_goals:a}});var e},className:"flex flex-col items-center justify-center p-4 aspect-square rounded-lg border-2 transition-all "+(A.health_goals.includes(s.id)?"border-primary bg-primary/10":"border-border hover:border-primary/50"),children:[e.jsx(a,{className:"w-8 h-8 mb-2 text-primary"}),e.jsx("span",{className:"font-semibold text-center",children:s.label})]},s.id)})})]},"step4");case 5:return e.jsxs(d.div,{className:"text-center flex flex-col items-center",children:[e.jsx(u,{className:"w-24 h-24 text-green-500 mb-6"}),e.jsx("h2",{className:"text-3xl font-bold",children:"Setup Complete!"}),e.jsx("p",{className:"text-text-secondary mt-2 mb-8",children:"Your profile is personalized. Get ready to start your wellness journey."}),e.jsx(i,{onClick:M,children:"Go to Dashboard"})]},"step5");default:return null}})()},w)}),w<=4&&e.jsxs("div",{className:"flex justify-between items-center mt-8",children:[e.jsxs(i,{variant:"outline",onClick:()=>{w>1&&k(e=>e-1)},disabled:1===w||C,children:[e.jsx(m,{className:"w-4 h-4 mr-2"})," Back"]}),w<4?e.jsxs(i,{onClick:()=>{w<4&&k(e=>e+1)},children:["Next ",e.jsx(x,{className:"w-4 h-4 ml-2"})]}):e.jsxs(i,{onClick:async()=>{if(!y)return;L(!0);const{error:e}=await n.from("user_profiles").update(A).eq("id",y.id);e?(L(!1),c({title:"Error updating profile",description:e.message,variant:"destructive"})):(await N(),L(!1),k(e=>e+1))},disabled:C,children:[C&&e.jsx(h,{className:"w-4 h-4 mr-2 animate-spin"}),"Finish"]})]})]})]})})]})};export{v as default};
