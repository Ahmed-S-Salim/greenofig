import{j as e}from"./vendor-ui-c5075e48.js";import{k as t,r as s,u as a}from"./vendor-react-c35372bd.js";import{H as l,B as i,s as r,t as n}from"./index-67d0fb94.js";import{C as o,a as c,b as d,c as x,d as m}from"./card-b68930bc.js";import{T as h,a as p,b as g,c as u}from"./tabs-eac78ff9.js";import{S as j}from"./SiteLayout-f03d29d2.js";import{F as b}from"./OnboardingSurvey-c2168d73.js";import f from"./purify.es-3247f85f.js";import{L as v,m as y,A as N,U as w,w as k,O as _}from"./vendor-utils-7072100e.js";import"./vendor-editor-d6577754.js";import"./dialog-aab7369c.js";const F=({logoUrl:F})=>{const{postId:S}=t(),[L,B]=s.useState([]),[C,G]=s.useState(null),[T,D]=s.useState(!0),A=a();s.useEffect(()=>{(async()=>{if(D(!0),S){const{data:e,error:t}=await r.from("blog_posts").select("\n            title,\n            content,\n            featured_image_url,\n            published_at,\n            author_id\n          ").eq("id",S).single();t||!e?(n({title:"Error fetching post",description:"This blog post could not be found.",variant:"destructive"}),A("/blog")):G(e)}else{const{data:e,error:t}=await r.from("blog_posts").select("\n            id,\n            title,\n            content,\n            featured_image_url,\n            published_at,\n            author_id\n          ").eq("status","published").not("published_at","is",null).order("published_at",{ascending:!1});t?(n({title:"Error fetching blog posts",description:t.message,variant:"destructive"}),B([])):B(e||[])}D(!1)})()},[S,A]);const $={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},E={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},W=(e,t)=>{if(!e)return"";const s=e.replace(/<\/?[^>]+(>|$)/g,"");return s.length<=t?s:s.substring(0,t)+"..."},U=()=>L&&0!==L.length?e.jsx(y.div,{variants:$,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:L.map(t=>e.jsx(y.div,{variants:E,children:e.jsxs(o,{className:"h-full flex flex-col glass-effect overflow-hidden group rounded-2xl",style:{backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:[e.jsx("div",{className:"aspect-video overflow-hidden cursor-pointer",onClick:()=>A(`/blog/${t.id}`),children:e.jsx("img",{alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:t.featured_image_url||"https://images.unsplash.com/photo-1504983875-d3b163aba9e6"})}),e.jsxs(c,{children:[e.jsx(d,{className:"text-xl font-bold group-hover:text-primary transition-colors cursor-pointer",onClick:()=>A(`/blog/${t.id}`),children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx("img",{alt:"GreenoFig Team",className:"w-6 h-6 rounded-full",src:"https://images.unsplash.com/photo-1652841190565-b96e0acbae17"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"GreenoFig Team"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"¬∑"}),e.jsx("span",{className:"text-sm text-text-secondary",children:new Date(t.published_at).toLocaleDateString()})]})]}),e.jsx(x,{className:"flex-grow",children:e.jsx("p",{className:"text-text-secondary",children:W(t.content,100)})}),e.jsx(m,{children:e.jsxs(i,{onClick:()=>A(`/blog/${t.id}`),variant:"link",className:"p-0 text-primary",children:["Read More ",e.jsx(_,{className:"w-4 h-4 ml-2"})]})})]})},t.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]}),O=()=>{if(!L||0===L.length)return e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]});const t=L[0],s=L.slice(1);return e.jsxs(y.div,{variants:$,initial:"hidden",animate:"visible",className:"space-y-12 max-w-7xl mx-auto",children:[t&&e.jsx(y.div,{variants:E,className:"group",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center glass-effect p-8 rounded-2xl",style:{backdropFilter:"blur(24px) saturate(180%)",WebkitBackdropFilter:"blur(24px) saturate(180%)"},children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-lg cursor-pointer",onClick:()=>A(`/blog/${t.id}`),children:e.jsx("img",{alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:t.featured_image_url||"https://images.unsplash.com/photo-1543362906-acfc16c67564"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-primary font-semibold mb-2",children:"Featured Article"}),e.jsx("h2",{className:"text-3xl font-bold mb-4 group-hover:text-primary transition-colors cursor-pointer",onClick:()=>A(`/blog/${t.id}`),children:t.title}),e.jsx("p",{className:"text-text-secondary mb-4",children:W(t.content,150)}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-text-secondary",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:"GreenoFig Team"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(t.published_at).toLocaleDateString()})]})]})]})]})}),s.length>0&&e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(t=>e.jsxs(y.div,{variants:E,className:"glass-effect p-6 rounded-2xl group flex flex-col",style:{backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-lg mb-4 cursor-pointer",onClick:()=>A(`/blog/${t.id}`),children:e.jsx("img",{alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:t.featured_image_url||"https://images.unsplash.com/photo-1490645935967-10de6ba17061"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 flex-grow group-hover:text-primary transition-colors cursor-pointer",onClick:()=>A(`/blog/${t.id}`),children:t.title}),e.jsx("p",{className:"text-text-secondary text-sm mb-4",children:W(t.content,80)}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-3 h-3"}),e.jsx("span",{children:"GreenoFig Team"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(t.published_at).toLocaleDateString()})]})]})]},t.id))})]})};return T?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(v,{className:"h-12 w-12 animate-spin text-primary"})}):S&&C?e.jsxs(j,{logoUrl:F,children:[e.jsxs(l,{children:[e.jsxs("title",{children:[C.title," - GreenoFig Blog"]}),e.jsx("meta",{name:"description",content:C.content.substring(0,160)})]}),e.jsx(b,{}),e.jsxs(y.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs(i,{variant:"ghost",onClick:()=>A("/blog"),className:"mb-8",children:[e.jsx(N,{className:"mr-2 h-4 w-4"}),"Back to Blog"]}),e.jsxs("article",{children:[e.jsx(y.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold tracking-tight mb-4 leading-tight",children:C.title}),e.jsxs(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-text-secondary mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:"GreenoFig Team"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(C.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx(y.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"aspect-video rounded-xl overflow-hidden mb-8 glass-effect",children:e.jsx("img",{src:C.featured_image_url||"https://images.unsplash.com/photo-1504983875-d3b163aba9e6",alt:C.title,className:"w-full h-full object-cover"})}),e.jsx(y.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"prose prose-invert max-w-none text-lg leading-relaxed text-text-secondary prose-h2:text-text-primary prose-h3:text-text-primary prose-strong:text-text-primary",dangerouslySetInnerHTML:{__html:f.sanitize(C.content.replace(/\n/g,"<br />"),{ALLOWED_TAGS:["p","br","strong","em","u","h1","h2","h3","h4","h5","h6","ul","ol","li","a","blockquote","code","pre"],ALLOWED_ATTR:["href","target","rel"]})}})]})]})]}):e.jsxs(j,{logoUrl:F,children:[e.jsxs(l,{children:[e.jsx("title",{children:"Blog - GreenoFig"}),e.jsx("meta",{name:"description",content:"Latest articles, tips, and insights on health, wellness, and nutrition from the GreenoFig team."}),e.jsx("link",{rel:"canonical",href:"https://greenofig.com/blog"}),e.jsx("meta",{property:"og:title",content:"Blog - GreenoFig"}),e.jsx("meta",{property:"og:description",content:"Latest articles, tips, and insights on health, wellness, and nutrition from the GreenoFig team."}),e.jsx("meta",{property:"og:url",content:"https://greenofig.com/blog"}),e.jsx("meta",{property:"og:type",content:"website"})]}),e.jsx(b,{}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[e.jsxs(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative mb-8 rounded-3xl overflow-hidden mx-auto max-w-7xl",style:{background:"linear-gradient(135deg, rgba(34, 139, 34, 0.12), rgba(16, 185, 129, 0.12))",backdropFilter:"blur(60px) saturate(180%)",WebkitBackdropFilter:"blur(60px) saturate(180%)",border:"1px solid rgba(16, 185, 129, 0.15)",boxShadow:"0 8px 32px 0 rgba(16, 185, 129, 0.1)"},children:[e.jsxs("div",{className:"absolute inset-0 opacity-15 pointer-events-none",children:[e.jsx("div",{className:"absolute top-4 left-6 text-4xl",children:"üçè"}),e.jsx("div",{className:"absolute top-6 right-10 text-5xl",children:"ü•¶"}),e.jsx("div",{className:"absolute bottom-4 left-16 text-4xl",children:"ü•ù"}),e.jsx("div",{className:"absolute bottom-6 right-8 text-5xl",children:"ü•í"}),e.jsx("div",{className:"absolute top-12 left-1/3 text-3xl",children:"ü•ë"}),e.jsx("div",{className:"absolute bottom-10 right-1/3 text-4xl",children:"üçä"})]}),e.jsxs("div",{className:"relative z-10 text-center py-16 px-4",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-3",children:["The ",e.jsx("span",{className:"gradient-text",children:"GreenoFig"})," Blog"]}),e.jsx("p",{className:"max-w-2xl mx-auto text-base md:text-lg text-text-secondary",children:"Insights, tips, and stories on your journey to a healthier life."})]})]}),0===L.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]}):e.jsxs(h,{defaultValue:"all",className:"w-full",children:[e.jsx("div",{className:"flex justify-center mb-12",children:e.jsxs(p,{className:"glass-effect bg-transparent border border-primary/20 p-1",children:[e.jsx(g,{value:"all",className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-full px-6",children:"All Posts"}),e.jsx(g,{value:"featured",className:"data-[state=active]:bg-transparent data-[state=active]:text-text-primary rounded-full px-6",children:"Featured Articles"})]})}),e.jsx(u,{value:"all",children:e.jsx(U,{})}),e.jsx(u,{value:"featured",children:e.jsx(O,{})})]})]})]})};export{F as default};
