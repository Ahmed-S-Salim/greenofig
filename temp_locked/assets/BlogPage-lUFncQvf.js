import{j as e}from"./vendor-ui-CAdTc8ma.js";import{e as t,a as s,u as a}from"./vendor-react-DYWoKpfz.js";import{H as i,B as l,s as r,t as n}from"./index-AtoPiNTv.js";import{C as o,a as c,b as d,c as x,d as m}from"./card-DObhyBOQ.js";import{T as h,a as p,b as g,c as u}from"./tabs-W0guYPUx.js";import{S as j}from"./SiteLayout-BldEA76M.js";import{F as f}from"./OnboardingSurvey-CnRxse4o.js";import{b,m as v,e as y,U as N,f as w,A as _}from"./vendor-utils-7_dm-8Ld.js";import"./dialog-DSKAuchR.js";import"./vendor-editor-CURn2XBo.js";const k=({logoUrl:k})=>{const{postId:F}=t(),[C,S]=s.useState([]),[G,T]=s.useState(null),[B,D]=s.useState(!0),L=a();s.useEffect(()=>{(async()=>{if(D(!0),F){const{data:e,error:t}=await r.from("blog_posts").select("\n            title,\n            content,\n            featured_image_url,\n            published_at,\n            author_id\n          ").eq("id",F).single();t||!e?(console.error("Post fetch error:",t),n({title:"Error fetching post",description:"This blog post could not be found.",variant:"destructive"}),L("/blog")):T(e)}else{const{data:e,error:t}=await r.from("blog_posts").select("\n            id,\n            title,\n            content,\n            featured_image_url,\n            published_at,\n            author_id\n          ").eq("status","published").not("published_at","is",null).order("published_at",{ascending:!1});t?(console.error("Blog fetch error:",t),n({title:"Error fetching blog posts",description:t.message,variant:"destructive"}),S([])):S(e||[])}D(!1)})()},[F,L]);const $={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},P={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},U=(e,t)=>{if(!e)return"";const s=e.replace(/<\/?[^>]+(>|$)/g,"");return s.length<=t?s:s.substring(0,t)+"..."},A=()=>C&&0!==C.length?e.jsx(v.div,{variants:$,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:C.map(t=>e.jsx(v.div,{variants:P,children:e.jsxs(o,{className:"h-full flex flex-col glass-effect overflow-hidden group",children:[e.jsx("div",{className:"aspect-video overflow-hidden cursor-pointer",onClick:()=>L(`/blog/${t.id}`),children:e.jsx("img",{alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:t.featured_image_url||"https://images.unsplash.com/photo-1504983875-d3b163aba9e6"})}),e.jsxs(c,{children:[e.jsx(d,{className:"text-xl font-bold group-hover:text-primary transition-colors cursor-pointer",onClick:()=>L(`/blog/${t.id}`),children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx("img",{alt:"GreenoFig Team",className:"w-6 h-6 rounded-full",src:"https://images.unsplash.com/photo-1652841190565-b96e0acbae17"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"GreenoFig Team"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"¬∑"}),e.jsx("span",{className:"text-sm text-text-secondary",children:new Date(t.published_at).toLocaleDateString()})]})]}),e.jsx(x,{className:"flex-grow",children:e.jsx("p",{className:"text-text-secondary",children:U(t.content,100)})}),e.jsx(m,{children:e.jsxs(l,{onClick:()=>L(`/blog/${t.id}`),variant:"link",className:"p-0 text-primary",children:["Read More ",e.jsx(_,{className:"w-4 h-4 ml-2"})]})})]})},t.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]}),E=()=>{if(!C||0===C.length)return e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]});const t=C[0],s=C.slice(1);return e.jsxs(v.div,{variants:$,initial:"hidden",animate:"visible",className:"space-y-12",children:[t&&e.jsx(v.div,{variants:P,className:"group",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-center glass-effect p-8 rounded-2xl",children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-lg cursor-pointer",onClick:()=>L(`/blog/${t.id}`),children:e.jsx("img",{alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:t.featured_image_url||"https://images.unsplash.com/photo-1543362906-acfc16c67564"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-primary font-semibold mb-2",children:"Featured Article"}),e.jsx("h2",{className:"text-3xl font-bold mb-4 group-hover:text-primary transition-colors cursor-pointer",onClick:()=>L(`/blog/${t.id}`),children:t.title}),e.jsx("p",{className:"text-text-secondary mb-4",children:U(t.content,150)}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-text-secondary",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"GreenoFig Team"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(t.published_at).toLocaleDateString()})]})]})]})]})}),s.length>0&&e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(t=>e.jsxs(v.div,{variants:P,className:"glass-effect p-6 rounded-2xl group flex flex-col",children:[e.jsx("div",{className:"aspect-video overflow-hidden rounded-lg mb-4 cursor-pointer",onClick:()=>L(`/blog/${t.id}`),children:e.jsx("img",{alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:t.featured_image_url||"https://images.unsplash.com/photo-1490645935967-10de6ba17061"})}),e.jsx("h3",{className:"text-xl font-bold mb-2 flex-grow group-hover:text-primary transition-colors cursor-pointer",onClick:()=>L(`/blog/${t.id}`),children:t.title}),e.jsx("p",{className:"text-text-secondary text-sm mb-4",children:U(t.content,80)}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-text-secondary mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-3 h-3"}),e.jsx("span",{children:"GreenoFig Team"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-3 h-3"}),e.jsx("span",{children:new Date(t.published_at).toLocaleDateString()})]})]})]},t.id))})]})};return B?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(b,{className:"h-12 w-12 animate-spin text-primary"})}):F&&G?e.jsxs(j,{logoUrl:k,children:[e.jsxs(i,{children:[e.jsxs("title",{children:[G.title," - GreenoFig Blog"]}),e.jsx("meta",{name:"description",content:G.content.substring(0,160)})]}),e.jsx(f,{}),e.jsxs(v.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs(l,{variant:"ghost",onClick:()=>L("/blog"),className:"mb-8",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Back to Blog"]}),e.jsxs("article",{children:[e.jsx(v.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold tracking-tight mb-4 leading-tight",children:G.title}),e.jsxs(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-text-secondary mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{className:"w-4 h-4"}),e.jsx("span",{children:"GreenoFig Team"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(G.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsx(v.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"aspect-video rounded-xl overflow-hidden mb-8 glass-effect",children:e.jsx("img",{src:G.featured_image_url||"https://images.unsplash.com/photo-1504983875-d3b163aba9e6",alt:G.title,className:"w-full h-full object-cover"})}),e.jsx(v.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"prose prose-invert max-w-none text-lg leading-relaxed text-text-secondary prose-h2:text-text-primary prose-h3:text-text-primary prose-strong:text-text-primary",dangerouslySetInnerHTML:{__html:G.content.replace(/\n/g,"<br />")}})]})]})]}):e.jsxs(j,{logoUrl:k,children:[e.jsxs(i,{children:[e.jsx("title",{children:"Blog - GreenoFig"}),e.jsx("meta",{name:"description",content:"Latest articles, tips, and insights on health, wellness, and nutrition from the GreenoFig team."}),e.jsx("link",{rel:"canonical",href:"https://greenofig.com/blog"}),e.jsx("meta",{property:"og:title",content:"Blog - GreenoFig"}),e.jsx("meta",{property:"og:description",content:"Latest articles, tips, and insights on health, wellness, and nutrition from the GreenoFig team."}),e.jsx("meta",{property:"og:url",content:"https://greenofig.com/blog"}),e.jsx("meta",{property:"og:type",content:"website"})]}),e.jsx(f,{}),e.jsxs("div",{className:"container mx-auto px-4 py-16 sm:py-24",children:[e.jsxs(v.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative mb-12 rounded-3xl overflow-hidden",style:{background:"linear-gradient(135deg, rgba(34, 139, 34, 0.15), rgba(16, 185, 129, 0.15), rgba(34, 197, 94, 0.15))",backdropFilter:"blur(40px)",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[e.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[e.jsx("div",{className:"absolute top-6 left-8 text-5xl",children:"üçè"}),e.jsx("div",{className:"absolute top-4 right-16 text-6xl",children:"ü•¶"}),e.jsx("div",{className:"absolute bottom-6 left-20 text-5xl",children:"ü•ù"}),e.jsx("div",{className:"absolute bottom-8 right-12 text-6xl",children:"ü•í"}),e.jsx("div",{className:"absolute top-16 left-1/4 text-4xl",children:"ü•ë"}),e.jsx("div",{className:"absolute bottom-12 right-1/3 text-5xl",children:"üçä"})]}),e.jsxs("div",{className:"relative z-10 text-center py-20 px-4",children:[e.jsxs("h1",{className:"text-5xl md:text-6xl font-bold tracking-tight mb-4",children:["The ",e.jsx("span",{className:"gradient-text",children:"GreenoFig"})," Blog"]}),e.jsx("p",{className:"max-w-2xl mx-auto text-lg text-text-secondary",children:"Insights, tips, and stories on your journey to a healthier life."})]})]}),0===C.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]}):e.jsxs(h,{defaultValue:"all",className:"w-full",children:[e.jsx("div",{className:"flex justify-center mb-12",children:e.jsxs(p,{className:"glass-effect bg-transparent border border-primary/20 p-1",children:[e.jsx(g,{value:"all",className:"data-[state=active]:bg-primary data-[state=active]:text-white rounded-full px-6",children:"All Posts"}),e.jsx(g,{value:"featured",className:"data-[state=active]:bg-transparent data-[state=active]:text-text-primary rounded-full px-6",children:"Featured Articles"})]})}),e.jsx(u,{value:"all",children:e.jsx(A,{})}),e.jsx(u,{value:"featured",children:e.jsx(E,{})})]})]})]})};export{k as default};
