import{j as e}from"./vendor-ui-5701c8ab.js";import{k as t,r as s,u as a}from"./vendor-react-c35372bd.js";import{H as i,B as l,s as r,t as n}from"./index-8b14cb79.js";import{C as o,a as c,b as d,c as x,d as m}from"./card-dd4d8de1.js";import{S as h}from"./SiteLayout-c184b565.js";import{m as p,L as g,A as u,U as j,w as f,_ as y,O as b}from"./vendor-utils-278148e0.js";import"./vendor-editor-1616b420.js";import"./OnboardingSurvey-c8353612.js";import"./dialog-da002b66.js";const v=()=>{const t=["ðŸ¥’","ðŸ“","ðŸŽ","ðŸ¥","ðŸ¥¦","ðŸ‹","ðŸŠ","ðŸ¥‘","ðŸ‡","ðŸŒ","ðŸ«","ðŸ…","ðŸ¥•","ðŸ‰","ðŸ","ðŸ¥¬","ðŸŒ¶ï¸","ðŸ«‘","ðŸ’","ðŸ¥—"].map((e,t)=>({fruit:e,x:100*Math.random(),delay:2*t,duration:25+15*Math.random(),size:2+1.5*Math.random()}));return e.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",style:{zIndex:0},children:t.map((t,s)=>e.jsx(p.div,{initial:{x:`${t.x}vw`,y:"110vh",opacity:.4},animate:{y:"-10vh"},transition:{duration:t.duration,repeat:1/0,ease:"linear",delay:t.delay},style:{position:"absolute",fontSize:`${t.size}rem`},children:t.fruit},s))})},N=({logoUrl:N})=>{const{postId:w}=t(),[k,_]=s.useState([]),[F,S]=s.useState(null),[C,B]=s.useState(!0),G=a();s.useEffect(()=>{(async()=>{if(B(!0),w){const{data:e,error:t}=await r.from("blog_posts").select("\n            title,\n            content,\n            featured_image_url,\n            published_at,\n            author_id\n          ").eq("id",w).single();t||!e?(n({title:"Error fetching post",description:"This blog post could not be found.",variant:"destructive"}),G("/blog")):S(e)}else{const{data:e,error:t}=await r.from("blog_posts").select("\n            id,\n            title,\n            content,\n            featured_image_url,\n            published_at,\n            author_id\n          ").eq("status","published").not("published_at","is",null).order("published_at",{ascending:!1});t?(n({title:"Error fetching blog posts",description:t.message,variant:"destructive"}),_([])):_(e||[])}B(!1)})()},[w,G]);const L={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},$={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.6}}},z=(e,t)=>{if(!e)return"";const s=e.replace(/<\/?[^>]+(>|$)/g,"");return s.length<=t?s:s.substring(0,t)+"..."},D=()=>k&&0!==k.length?e.jsx(p.div,{variants:L,initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:k.map(t=>e.jsx(p.div,{variants:$,children:e.jsxs(o,{className:"h-full flex flex-col glass-effect overflow-hidden group rounded-2xl",style:{backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)"},children:[e.jsx("div",{className:"aspect-video overflow-hidden cursor-pointer",onClick:()=>G(`/blog/${t.id}`),children:e.jsx("img",{alt:t.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",src:t.featured_image_url||"https://images.unsplash.com/photo-1504983875-d3b163aba9e6"})}),e.jsxs(c,{children:[e.jsx(d,{className:"text-xl font-bold group-hover:text-primary transition-colors cursor-pointer",onClick:()=>G(`/blog/${t.id}`),children:t.title}),e.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[e.jsx("img",{alt:"GreenoFig Team",className:"w-6 h-6 rounded-full",src:"https://images.unsplash.com/photo-1652841190565-b96e0acbae17"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"GreenoFig Team"}),e.jsx("span",{className:"text-sm text-text-secondary",children:"Â·"}),e.jsx("span",{className:"text-sm text-text-secondary",children:new Date(t.published_at).toLocaleDateString()})]})]}),e.jsx(x,{className:"flex-grow",children:e.jsx("p",{className:"text-text-secondary",children:z(t.content,100)})}),e.jsx(m,{children:e.jsxs(l,{onClick:()=>G(`/blog/${t.id}`),variant:"link",className:"p-0 text-primary",children:["Read More ",e.jsx(b,{className:"w-4 h-4 ml-2"})]})})]})},t.id))}):e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]});return C?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(g,{className:"h-12 w-12 animate-spin text-primary"})}):w&&F?e.jsxs(h,{logoUrl:N,children:[e.jsxs(i,{children:[e.jsxs("title",{children:[F.title," - GreenoFig Blog"]}),e.jsx("meta",{name:"description",content:F.content.substring(0,160)})]}),e.jsx(v,{}),e.jsxs(p.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto px-4 py-8",children:[e.jsxs(l,{variant:"ghost",onClick:()=>G("/blog"),className:"mb-8",children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Back to Blog"]}),e.jsxs("article",{children:[e.jsx(p.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-4xl md:text-5xl font-bold tracking-tight mb-4 leading-tight",children:F.title}),e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex items-center gap-6 text-text-secondary mb-8",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:"GreenoFig Team"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(F.published_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("span",{children:"4 min read"})]})]}),e.jsx(p.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.3},className:"aspect-video rounded-xl overflow-hidden mb-8 glass-effect",children:e.jsx("img",{src:F.featured_image_url||"https://images.unsplash.com/photo-1504983875-d3b163aba9e6",alt:F.title,className:"w-full h-full object-cover"})}),e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"prose prose-invert max-w-none text-lg leading-relaxed text-text-secondary prose-h2:text-text-primary prose-h3:text-text-primary prose-strong:text-text-primary",dangerouslySetInnerHTML:{__html:F.content.replace(/\n/g,"<br />")}})]})]})]}):e.jsxs(h,{logoUrl:N,children:[e.jsxs(i,{children:[e.jsx("title",{children:"Blog - GreenoFig"}),e.jsx("meta",{name:"description",content:"Latest articles, tips, and insights on health, wellness, and nutrition from the GreenoFig team."}),e.jsx("link",{rel:"canonical",href:"https://greenofig.com/blog"}),e.jsx("meta",{property:"og:title",content:"Blog - GreenoFig"}),e.jsx("meta",{property:"og:description",content:"Latest articles, tips, and insights on health, wellness, and nutrition from the GreenoFig team."}),e.jsx("meta",{property:"og:url",content:"https://greenofig.com/blog"}),e.jsx("meta",{property:"og:type",content:"website"})]}),e.jsx(v,{}),e.jsxs("div",{className:"w-full",children:[e.jsx(p.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative overflow-hidden w-full pb-6 z-20",style:{background:"rgba(125, 230, 75, 0.2)",backdropFilter:"blur(20px) saturate(180%)",WebkitBackdropFilter:"blur(20px) saturate(180%)",boxShadow:"0 8px 32px 0 rgba(125, 230, 75, 0.2)",border:"1px solid rgba(255, 255, 255, 0.18)"},children:e.jsxs("div",{className:"relative z-10 text-center py-10 px-4 flex flex-col justify-center min-h-[200px]",children:[e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-3 text-white",children:["The ",e.jsx("span",{style:{color:"rgb(113, 221, 60)"},children:"GreenoFig"})," Blog"]}),e.jsx("p",{className:"max-w-2xl mx-auto text-base md:text-lg text-gray-200",children:"Insights, tips, and stories on your journey to a healthier life."})]})}),k.length>0&&e.jsx("div",{className:"w-full relative px-4 sm:px-6 lg:px-8",children:e.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"w-full mx-auto -mt-4 relative z-0",children:e.jsxs("div",{className:"grid lg:grid-cols-2 gap-0 glass-effect rounded-2xl border border-green-500/30 overflow-hidden",style:{minHeight:"210px"},children:[e.jsx("div",{className:"cursor-pointer h-full",onClick:()=>G(`/blog/${k[0].id}`),children:e.jsx("img",{alt:k[0].title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300",src:k[0].featured_image_url||"https://images.unsplash.com/photo-1543362906-acfc16c67564"})}),e.jsxs("div",{className:"p-8 flex flex-col justify-center",children:[e.jsx("p",{className:"text-sm text-primary font-semibold mb-3",children:"Latest Article"}),e.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4 text-white hover:text-primary transition-colors cursor-pointer leading-tight",onClick:()=>G(`/blog/${k[0].id}`),children:k[0].title}),e.jsx("p",{className:"text-text-secondary text-sm md:text-base mb-6 leading-relaxed",children:z(k[0].content,250)}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-text-secondary mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(k[0].published_at).toLocaleDateString()})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{children:"4 min read"})})]}),e.jsxs(l,{onClick:()=>G(`/blog/${k[0].id}`),className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:["Read Full Article ",e.jsx(b,{className:"w-4 h-4 ml-2"})]})]})]})})})]}),e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"More Articles"}),0===k.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Posts Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Check back soon for exciting articles on health and wellness."})]}):e.jsx(D,{})]})})]})};export{N as default};
