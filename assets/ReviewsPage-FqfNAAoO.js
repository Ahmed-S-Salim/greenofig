import{j as e}from"./vendor-ui-gkPPHEPH.js";import{a as s}from"./vendor-react-Dds8VpLH.js";import{H as r,B as t,s as i,t as a,T as l,A as o,a as n,b as c}from"./index-CKU5P2TY.js";import{S as m}from"./SiteLayout-B0FdKiSe.js";import{C as d,c as x}from"./card-Pj_OUEuM.js";import{D as h,a as p,b as j,c as u,d as g,e as v,f as y}from"./dialog-D_VtZS95.js";import{I as f}from"./input-EoRmzMlo.js";import{L as w}from"./label-qLSsZ5R6.js";import{M as N,c as b,b as S,h as F,m as R}from"./vendor-utils-CisQTPNT.js";import"./OnboardingSurvey-C6cZk74l.js";import"./vendor-editor-DGqHsWbs.js";const ReviewCard=({review:s,index:r})=>{const t={hidden:{opacity:0,y:50},visible:{opacity:1,y:0,transition:{delay:.1*r}}};return e.jsx(R.div,{variants:t,initial:"hidden",animate:"visible",children:e.jsx(d,{className:"glass-effect h-full flex flex-col",children:e.jsxs(x,{className:"p-6 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsxs(o,{className:"h-12 w-12 border-2 border-primary",children:[e.jsx(n,{src:s.avatar_url||s.customer_image,alt:s.customer_name}),e.jsx(c,{children:(i=s.customer_name,i?i.split(" ").map(e=>e[0]).join("").toUpperCase():"U")})]}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"font-bold text-lg",children:s.customer_name}),s.customer_title&&e.jsx("p",{className:"text-xs text-text-secondary",children:s.customer_title}),e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((r,t)=>e.jsx(S,{className:"w-4 h-4 "+(t<s.rating?"text-yellow-400 fill-yellow-400":"text-gray-500")},t))})]})]}),e.jsx("p",{className:"text-text-secondary text-sm flex-grow",children:s.quote})]})})});var i},ReviewForm=({setOpen:s})=>e.jsxs("form",{onSubmit:e=>{e.preventDefault(),a({title:"ðŸš€ Submission Received!",description:"Just kidding! This form isn't wired up yet, but you can ask me to implement it next!"}),s(!1)},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"name",children:"Your Name"}),e.jsx(f,{id:"name",placeholder:"John Doe",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"review-title",children:"Review Title"}),e.jsx(f,{id:"review-title",placeholder:"An amazing experience!",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{htmlFor:"review",children:"Your Review"}),e.jsx(l,{id:"review",placeholder:"Tell us what you think...",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Rating"}),e.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((s,r)=>e.jsx(S,{className:"w-6 h-6 text-gray-300 cursor-pointer hover:text-yellow-400"},r))})]}),e.jsx(y,{children:e.jsxs(t,{type:"submit",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Submit Review"]})})]}),ReviewsPage=({logoUrl:l})=>{const[o,n]=s.useState(!1),[c,d]=s.useState([]),[x,y]=s.useState(!0);return s.useEffect(()=>{var e,s,r;e=null,s=null,r=function*(){y(!0);const{data:e,error:s}=yield i.from("testimonials").select("*").eq("is_featured",!0).order("display_order",{ascending:!0});s?(console.error("Error fetching testimonials:",s),a({title:"Error loading reviews",description:s.message,variant:"destructive"}),d([])):d(e||[]),y(!1)},new Promise((t,i)=>{var fulfilled=e=>{try{step(r.next(e))}catch(s){i(s)}},rejected=e=>{try{step(r.throw(e))}catch(s){i(s)}},step=e=>e.done?t(e.value):Promise.resolve(e.value).then(fulfilled,rejected);step((r=r.apply(e,s)).next())})},[]),e.jsxs(e.Fragment,{children:[e.jsxs(r,{children:[e.jsx("title",{children:"Reviews - GreenoFig"}),e.jsx("meta",{name:"description",content:"See what our members are saying about their success with GreenoFig. Real stories from real people transforming their health."}),e.jsx("link",{rel:"canonical",href:"https://greenofig.com/reviews"}),e.jsx("meta",{property:"og:title",content:"Reviews - GreenoFig"}),e.jsx("meta",{property:"og:description",content:"See what our members are saying about their success with GreenoFig. Real stories from real people transforming their health."}),e.jsx("meta",{property:"og:url",content:"https://greenofig.com/reviews"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"robots",content:"index, follow"})]}),e.jsxs(m,{logoUrl:l,pageTitle:e.jsxs(e.Fragment,{children:["Success Stories from Our ",e.jsx("span",{className:"gradient-text",children:"Community"})]}),pageDescription:"See how GreenoFig is helping people just like you achieve their health and wellness goals.",children:[e.jsx("div",{className:"text-center mb-12",children:e.jsxs(h,{open:o,onOpenChange:n,children:[e.jsx(p,{asChild:!0,children:e.jsxs(t,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg animate-pulse",children:[e.jsx(N,{className:"mr-2 h-5 w-5"}),"Write a Review"]})}),e.jsxs(j,{className:"sm:max-w-[425px] glass-effect",children:[e.jsxs(u,{children:[e.jsx(g,{children:"Share Your Story"}),e.jsx(v,{children:"We'd love to hear about your experience with GreenoFig."})]}),e.jsx(ReviewForm,{setOpen:n})]})]})}),x?e.jsx("div",{className:"flex justify-center items-center py-20",children:e.jsx(b,{className:"w-12 h-12 animate-spin text-primary"})}):0===c.length?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h2",{className:"text-2xl font-semibold",children:"No Reviews Yet!"}),e.jsx("p",{className:"text-text-secondary mt-2",children:"Be the first to share your success story with GreeonFig."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map((s,r)=>e.jsx(ReviewCard,{review:s,index:r},s.id||r))})]})]})};export{ReviewsPage as default};
